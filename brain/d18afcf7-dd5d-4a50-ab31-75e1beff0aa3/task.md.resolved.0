# Task: Tích Hợp Binance Crypto Transaction History API

## Objective
Tích hợp Binance API để theo dõi lịch sử giao dịch crypto theo pattern TPBank hiện có.

## Checklist

### Backend Implementation
- [ ] Cài đặt `binance` package (official Node.js SDK)
- [ ] Tạo `server/utils/binance.js` - Binance client wrapper
  - [ ] Implement `getSpotTransactionHistory()` method
  - [ ] Implement `getDepositHistory()` method
  - [ ] Implement `getWithdrawHistory()` method
  - [ ] Error handling và retry logic
- [ ] Cập nhật [server/models/Settings.js](file:///c:/Users/Adonis/Downloads/App/server/models/Settings.js)
  - [ ] Thêm `binance` object với `apiKey` và `secretKey`
- [ ] Cập nhật [server/routes/settings.js](file:///c:/Users/Adonis/Downloads/App/server/routes/settings.js)
  - [ ] Thêm endpoint `POST /api/settings/test-binance` để test connection
  - [ ] Thêm endpoint `POST /api/settings/binance-history` để fetch transactions

### Frontend Implementation
- [ ] Tạo `src/components/admin/BinanceMonitor.tsx`
  - [ ] Dashboard tab với stats (Total transactions, Volume, Latest activity)
  - [ ] Raw Data tab để xem lịch sử giao dịch
  - [ ] System Logs tab (optional, có thể reuse TPBank logs)
  - [ ] Refresh button và auto-refresh toggle
- [ ] Tích hợp vào [src/pages/AdminDashboard.tsx](file:///c:/Users/Adonis/Downloads/App/src/pages/AdminDashboard.tsx)
  - [ ] Thêm tab "Crypto History" bên cạnh "Transfer History"
  - [ ] Thêm Settings section cho Binance API credentials

### Testing & Verification
- [ ] Test Binance API connection với credentials
- [ ] Test fetch transaction history
- [ ] Verify UI hiển thị đúng dữ liệu
- [ ] Test error handling (invalid credentials, network issues)

### Documentation
- [ ] Tạo `docs/API-BINANCE-HISTORY.md` với hướng dẫn setup
