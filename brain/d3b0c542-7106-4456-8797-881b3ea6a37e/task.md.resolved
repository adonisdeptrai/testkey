# Task: Chuyển đổi Authentication sang Supabase API hoàn toàn

- [x] Phân tích hiện trạng và lập kế hoạch <!-- id: 1 -->
- [x] Cập nhật Frontend (AuthContext.tsx) <!-- id: 2 -->
    - [x] Thay thế gọi API backend bằng Supabase Client cho Login
    - [x] Thay thế gọi API backend bằng Supabase Client cho Register
    - [x] Cập nhật Logout và Password Reset
- [x] Cập nhật Auth.tsx để tương thích với Supabase Client <!-- id: 3 -->
- [x] Xử lý đồng bộ hóa `public.users` (Triggers/Edge Functions hoặc Backend Hook) <!-- id: 4 -->
- [x] Gỡ bỏ các route API Auth dư thừa trong Backend <!-- id: 5 -->
- [x] Thêm trang chờ xác thực email <!-- id: 7 -->
    - [x] Cập nhật VerifyEmail.tsx (UI & Logic)
    - [x] Cập nhật App.tsx (Routing)
    - [x] Cập nhật AuthContext.tsx (emailRedirectTo)
- [/] Sửa lỗi Database khi lưu người dùng mới <!-- id: 9 -->
    - [ ] Kiểm tra logs Supabase
    - [ ] Sửa lỗi Logic Trigger (nếu có)
    - [ ] Kiểm tra lại RLS/Constraints
- [/] Sửa lỗi treo sau khi bấm đăng ký <!-- id: 11 -->
    - [ ] Kiểm tra lại logic try-catch trong Auth.tsx
    - [ ] Kiểm tra hiệu năng và trạng thái của query maybeSingle()
    - [ ] Thêm logging để debug chính xác vị trí bị treo
- [ ] Kiểm tra và xác nhận (Verification) <!-- id: 12 -->
